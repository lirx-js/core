sequenceDiagram

participant fromAsyncIterable as fromAsyncIterable(iterable)
participant OUT


loop until: complete, error, or unsubscribe
    Note over fromAsyncIterable,OUT: calls 'iterable.next' and awaits for its result

    alt fulfilled with <state>
        alt state isn't done
            fromAsyncIterable->>OUT: next: state.value
        else state is done
            fromAsyncIterable->>OUT: complete
        end
    else rejected with <error>
        fromAsyncIterable->>OUT: error: error
    end
end
